== Как создать спецификацию материалов

Существует несколько решений с открытым исходным кодом и платных решений, которые определят риск в компонентах. Однако не так много инструментов, которые предоставят полный список «ингредиентов», используемых в приложении. Проверка зависимостей OWASP позволяет создать спецификацию материалов и определить потенциальный риск безопасности.

Проверка зависимостей использует несколько доказательств для определения имен библиотек. Например, вы можете добавить проверку зависимостей OWASP в качестве плагина в pom.xml проекта Maven. Плагин загрузит информацию из общедоступных баз данных уязвимостей и проверит, используются ли уязвимые библиотеки, а также укажет, какая уязвимость была сообщена.

В рамках конвейера разработки вы можете указать плагину отказать в сборке, если есть нарушения, о которых команда разработчиков не знала. Кроме того, вы можете использовать файл xml, чтобы отменить некоторые нарушения. Вам следует сделать это, если указанная уязвимость не может быть использована в вашем приложении.

В родительском pom.xml из WebGoat вы можете увидеть пример:

[source,xml]
----
<plugin>
	<groupId>org.owasp</groupId>
	<artifactId>dependency-check-maven</artifactId>
	<version>5.3.2</version>
	<configuration>
		<failBuildOnCVSS>7</failBuildOnCVSS>
		<skipProvidedScope>true</skipProvidedScope>
		<skipRuntimeScope>true</skipRuntimeScope>
		<suppressionFiles>
			<suppressionFile>project-suppression.xml</suppressionFile>
		</suppressionFiles>
	</configuration>
	<executions>
		<execution>
			<goals>
				<goal>check</goal>
			</goals>
		</execution>
	</executions>
</plugin>
----

А также пример пресеченных нарушений.

[source,xml]
----
<?xml version="1.0" encoding="UTF-8"?>
<suppressions xmlns="https://jeremylong.github.io/DependencyCheck/dependency-suppression.1.3.xsd">
    <suppress base="true">
        <cpe>cpe:/a:pivotal_software:spring_security</cpe>
        <cve>CVE-2018-1258</cve>
    </suppress>
    <suppress base="true"><!-- webgoat-server -->
        <cpe>cpe:/a:postgresql:postgresql</cpe>
        <cve>CVE-2018-10936</cve>
    </suppress>
</suppressions>
----

В случае WebGoat плагин активируется при запуске следующего (профиль owasp):

----
mvn clean install -Powasp
----

Ниже приведен фрагмент отчета, который можно найти, например, в webgoat-container/target/dependency-check-report.html:

image::images/OWASP-Dep-Check.png[caption="Figure: ", title="WebGoat Bill of Materials", alt="BoM", width="988", height="515", style="lesson-image"]
